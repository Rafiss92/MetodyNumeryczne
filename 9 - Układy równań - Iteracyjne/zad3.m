% Autor - Rafal Mastalerz% Funkcja realizuje zadanie 5 z listy zadan nr 9clear;function [x] = jacobi_f(A,b,r=0.3,t=12)    disp("Macierze wejsciowe:")    A    b  if ((rows(A)==columns(A)) || (rows(A)==rows(b)) || (columns(b)==1) || (t>=0) || (r>=0) || det(A)!=0)               n=length(b);    L=zeros(n);    D=zeros(n);    U=zeros(n);    % Operacje na macierzach    licznik=1;    for i=1:n     [liczba, row] = max(A(:,i));      if (((A(i,i)==0) || (liczba<A(i,i))) && (i<licznik+1))          tymczasowa=A(i,:);          A(i,:)=A(row,:);          A(row,:)=tymczasowa;          tymczasowa=b(i,:);          b(i,:)=b(row,:);          b(row,:)=tymczasowa;      endif          licznik++;    endfor    disp("Macierze A i b po operacjach na wierszach");    A    b    for i=1:n      for j=1:n        if i>j              %dla wyrazow pod glowna przekatna macierzy L trojkatnej dolnej           L(i,j)=A(i,j);        elseif i<j          %dla wyrazow ponad glowna przekatna macierzy U trojkatnej gornej           U(i,j)=A(i,j);        else                %dla wyrazow na glownej przekatnej macierzy D diagonalnej           D(i,j)=A(i,j);        end      end    end    N=inv(D);    H=zeros(n);    for i=1:n      for j=1:n        if i!=j          H(i,j)=-A(i,j)/A(i,i); %dla i=j wyrazy maja wartosc zerowa bo wczesniej H=zeros(n)        end        end    end    if (max(sum(abs(H)))<1) || (max(sum(abs(H')))<1) % ||=lub; H' - transpozycja macierzy (zamiana wierszy z kolumnami)      x=zeros(4,1);      liczba_iteracji=0;    while ((sum(abs((A*x)-b))>=r) && liczba_iteracji<=t)        disp(['Wynik dla iteracji nr ',num2str(liczba_iteracji)]); %konwersja liczby t do tablicy znakow        x=-N*(L+U)*x+N*b;        liczba_iteracji++;        disp(x)    endwhile          disp("Sumaryczny blad rozwiazania");      disp(sum(abs((A*x)-b)));        disp("Sprawdzenie - wynik dokladny");      disp(inv(A)*b);    else      disp("Warunek wystarczajacy uzyskania zbieznosci nie zostal spelniony");    endif  else    det(A)    disp("Nieprawidlowe dane wejsciowe lub wyznacznik macierzy == 0, co oznacza uklad nieoznaczony");         return;     endifendfunction%Zad 1A1=[20,-5,4,-4; 3,10,-3,-1; 2,0,4,0; 2,-1,-2,8];b1=[12; 20; 28; 52];%Zad 2A2=[0,10,3,-1;20,3,2,10;2,3,0,10;2,-1,8,2];b2=[35;103;27;23];%Zad 3A3=[1,2,3,4;2,0,5,2;1,1,4,2;2,1,1,1];b3=[40;34;31;16];disp("Zadanie 1")jacobi_f(A1,b1);disp("\nZadanie 2")jacobi_f(A2,b2);disp("\nZadanie 3")jacobi_f(A3,b3);